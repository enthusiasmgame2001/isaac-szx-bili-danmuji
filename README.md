# 三只熊弹幕姬

这是一个能直接在游戏显示b站直播间弹幕并且能和观众进行弹幕互动的mod：

- 能在游戏内显示的消息包括：普通弹幕内容、赠送礼物、发出红包、上舰、醒目留言

- 弹幕内容会嵌入游戏中，跟随角色的移动而移动

- 开启弹幕互动功能后，观众发送弹幕就可以直接在游戏内生成对应道具/饰品/金饰品/卡牌（支持mod道具、mod饰品和mod卡牌）

- 观众发送弹幕“生成c1”就会生成1号道具，发送弹幕“生成t2”就会生成2号饰品，发送弹幕“生成T3”就会生成3号金饰品，发送弹幕“生成k4”就会生成4号卡牌

- 新模式：随机友军怪物。这个功能每局默认关闭，主播按[B]可以将其打开，然后观众发送“生成随机友方怪物”即可生效，同一时间每位观众只会有一只友方怪物在场上

## 操作说明：（游戏内的提示文字也会有）

- 输入直播间号：1.将直播间号复制到系统剪贴板 2.按[LCtrl + v]黏贴直播间号（直播间号会自动保存，通常不需要重置，重置直播间号：按[LCtrl + z]）

- 扫码登录b站：1.拿出移动电子设备在b站app内扫屏幕上二维码 2.在电子设备上点击确认（登录用户会自动保存，通常不需要重置，重置登录用户：按[LCtrl + u]）

- 开关弹幕姬：按[LCtrl + x]

- 打开设置菜单/保存并关闭菜单：按[B]

- 在设置菜单内发送测试弹幕: 按[T]

## 特别说明：

1. 本mod的使用需要前置mod：IsaacSocket，右下角有链接可以跳转到前置mod

2. 本mod仅用来娱乐及更好地让观众与弹幕融入游戏，并不能平替弹幕姬软件，因为

    第一，mod的弹幕内容是跟着角色显示在头顶，一次只能显示一条，导致部分弹幕会被吞；

    第二，弹幕停留时间也不固定，默认是20秒停留时间，但是可能会被新的弹幕内容顶掉；

    第三，不能在游戏画面中看到历史弹幕内容


## 更新日志：

### v2.2更新：

- 调整"生成随机友方怪物"指令效果中的发送弹幕者文字颜色，友方为绿色，敌方为红色，而非随机颜色

- 去除"生成随机友方怪物"的部分可能引起游戏崩溃或造成玩家伤害的友方怪物

- 增加"生成随机友方怪物"生成boss的概率

### v2.1更新：

- "生成指令互动"是否开启放入[B]设置菜单中，取消[LAlt+x]的快捷键

- 现在起"生成指令互动"和"友方怪物互动"一样，每局游戏开始都会默认关闭

- 缩小"生成随机友方怪物"指令效果里友方怪物身上的发送弹幕者文字

- 降低"生成随机友方怪物"生成boss的概率

- 现在起"生成随机友方怪物"所生成的怪物身上的发送弹幕者名不会显示多个

- 现在起只有佩戴直播间粉丝牌才可以进行弹幕互动（大航海用户和房管则无需佩戴粉丝牌）

- 现在起直播间大航海用户和房管可以使用"化友为敌"指令和"化敌为友"指令来切换自己生成的友方怪物

- 现在起直播间房管可以使用"清理怪物"来清除游戏内所有之前生成的随机友方怪物

### v2.0更新：

- 增加了新的弹幕互动功能：随机友军怪物。这个功能每局默认关闭，主播按[B]可以将其打开，然后观众发送“生成随机友方怪物”即可生效，同一时间每位观众只会有一只友方怪物在场上

### v1.9更新：

- 适配最新的IsaacSocket连接工具

### v1.8 更新：

- 现在弹幕互动生成道具不会受到达摩剑的影响而生成两个道具

### v1.7 更新：

- 弹幕文字大小和弹幕持续时间现在可以在游戏内自行修改

- 修复了弹幕互动功能可能导致的游戏报错问题

### v1.6 更新：

- 依照b站新协议实现了mod内登录b站，从而恢复本弹幕姬mod的所有正常功能！（登录用户与直播间号都会自动保存，通常不需要重置）

### v1.5 更新：

- b站现在限制了用户获取弹幕的方式，需要开播界面的身份码才能连接自己的直播间，暂时本弹幕姬mod将无法使用，敬请谅解！我最近几个月比较忙，之后可能会重新更新本mod，感谢大家的理解！

### v1.4 更新：

- 经用户反馈偶有弹幕用户名显示\*\*\*的问题后，对弹幕连接进行了升级(如果仍然偶尔出现弹幕的用户名显示\*\*\*的情况，请联系我，谢谢)

### v1.3 更新：

- 修复了弹幕内容捕捉不全的问题

- 大退游戏后现在会自动重连上次连接直播间

- 开关弹幕姬现在会自动重连上次连接的直播间

- 修复了认证包发送失败的问题

- 优化了初始化连接的过程

### v1.2 更新：

- 增加了弹幕互动功能，观众可以发送弹幕进行弹幕互动(详情见steam简介或游戏内提示文字)

### v1.1 更新：

- 增加了用户赠送礼物的弹幕显示
- 增加了用户发送留言红包的弹幕显示
- 增加了用户发送醒目留言的弹幕显示
- 增加了用户上舰的弹幕显示
- 增加了两种提示文字的文本显示，共三种（红色、绿色、金色）
- 更改了大量提示文字显示并且文字为通俗易懂的中文内容
- 更改了用户名显示的文本颜色为金色
- 修复了部分用户名无法显示或者显示为nil的问题
- 修复了重置连接可能出现的衔接问题